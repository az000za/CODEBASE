<!DOCTYPE html>
<html>
<head>
  <title>Codebase Management</title>
</head>
<body>

<h1>Codebase Management</h1>


<button onclick="codebase.searchFunctionByName()">Search Function by Name</button>
<input id="functionName" type="text" placeholder="What is the function name to search?">

  
<button onclick="codebase.insertFunction()">Insert Function To Codebase</button>
<textarea id="functionInfo"></textarea>

<button onclick="codebase.findPaths()">Find Paths</button>
<input id="input" type="text" placeholder="input">
<input id="output" type="text" placeholder="output">

<div id="functions"></div>
<div id="paths"></div>


<script type="text/javascript" src="https://az000za.github.io/CODEBASE/operators.js"></script>

<script type="text/javascript" src="https://az000za.github.io/CODEBASE/extractFunctionInfo.js"></script>
<script type="text/javascript" src="https://az000za.github.io/CODEBASE/TypePathFinder.js"></script>
<script type="text/javascript" src="https://az000za.github.io/CODEBASE/SubTypePathFinder.js"></script>
<script type="text/javascript" src="https://az000za.github.io/CODEBASE/AlgoPathFinder.js"></script>
<script type="text/javascript" src="https://az000za.github.io/CODEBASE/findPathsForIOs.js"></script>
<script type="text/javascript" src="https://az000za.github.io/CODEBASE/OptimizeAlgoPath.js"></script>


<script type="text/javascript" src="https://az000za.github.io/CODEBASE/minifyCode.js"></script>
<script type="text/javascript" src="https://az000za.github.io/CODEBASE/improveAlgorithm.js"></script>
<script type="text/javascript" src="https://az000za.github.io/CODEBASE/processorOptimization.js"></script>
<script type="text/javascript" filename="registry.html">
class Codebase {
  constructor() {
    this.functions = [
      ...JavaScriptOperatorsAsFunctions
    ];
    this.getAllFunctions();
  }
  extractFunctionInfo(func, description = '', fileName = '') {extractFunctionInfo(...arguments);}
  findPaths() {
    const input = document.getElementById("input").value;
    const output = document.getElementById("output").value;
    let path = [];
    TypePathFinder(path, this.getAllFunctions(), inputType, goalType); 
    AlgoPathFinder(path, this.getAllFunctions(), input, goal);
    document.getElementById('paths').innerHTML += paths;
  }
  minifyCode() {minifyCode(code);}
  replaceDataStructures() {replaceDataStructures}
  improveAlgorithms() {improveAlgorithms()}
  processorOptimization(){processorOptimization()}
  optimizeCode() {
    this.minifyCode();
    this.replaceDataStructures();
    this.improveAlgorithms();
  }
  searchFunctionByName(name) {
    if (!name) name = document.getElementById("functionName").value;
    let found = [this.functions.find(func => func.name === name)];
    let preserved = this.functions;
    this.functions = found;
    this.getAllFunctions();
    this.functions = preserved;
  }
  getAllFunctions() {
    document.getElementById("functions").innerHTML = "";
    this.functions.forEach((funcObj)=>{
      document.getElementById("functions").innerHTML += `<div>funcName: ${funcObj.name} paramIn: ${funcObj.paramIn} paramOut: ${funcObj.paramsOut}</div>`;
    })
  }
  insertFunction(code){
    if (!code) code = document.getElementById("functionInfo").value;
    const EfuncObj = extractFunctionInfo(code);
    // let sameCode = false;
    // let sameName = false;
    // this.functions.forEach((funcObj)=>{
    //     if (funcObj.name === EfuncObj.name) sameName = true;
    //     if (funcObj.code === EfuncObj.code) sameCode = true;
    // });
    // if      (sameCode) throw new Error("reject: Same Code found in db");
    // else if (sameName) throw new Error("reject: Same Name found in db");
    // else 
    this.functions.push(EfuncObj);
    this.getAllFunctions();
  }
}
// Example usage:
const codebase = new Codebase();
</script>

</body>
</html>
